<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Радио</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        window.ENV = 'production';  // Будет заменено при сборке
    </script>
</head>
<body>
    <!-- Контейнер для страницы входа -->
    <div id="authContainer" class="container">
        <div class="auth-tabs">
            <button class="auth-tab active" data-tab="login">Вход</button>
            <button class="auth-tab" data-tab="register">Регистрация</button>
        </div>

        <!-- Форма входа -->
        <form id="loginForm" class="auth-form">
            <input type="text" name="username" placeholder="Имя пользователя" required>
            <input type="password" name="password" placeholder="Пароль" required>
            <button type="submit">Войти</button>
        </form>

        <!-- Форма регистрации -->
        <form id="registerForm" class="auth-form" style="display: none;">
            <input type="text" name="username" placeholder="Имя пользователя" required>
            <input type="email" name="email" placeholder="Email" required>
            <input type="password" name="password" placeholder="Пароль" required>
            <input type="password" name="password_confirm" placeholder="Подтвердите пароль" required>
            <button type="submit">Зарегистрироваться</button>
        </form>
    </div>

    <!-- Основной контейнер приложения -->
    <div id="appContainer" class="container" style="display: none;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h1>Радио</h1>
            <button id="logoutBtn" class="logout-btn">Выйти</button>
        </div>

        <div class="header" id="currentStation"></div>
        <div class="player">
            <audio controls id="audioPlayer">
                Ваш браузер не поддерживает воспроизведение аудио.
            </audio>
        </div>

        <div class="header">Избранные станции</div>
        <div style="display: flex; gap: 10px; margin-bottom: 20px;">
            <button class="favorite-btn" style="flex: 1;" data-id="1">F1</button>
            <button class="favorite-btn" style="flex: 1;" data-id="2">F2</button>
            <button class="favorite-btn" style="flex: 1;" data-id="3">F3</button>
        </div>

        <div class="header">Список станций</div>
        <div class="station-list">
            <ul id="stationsList"></ul>
        </div>
        <div style="display: flex; gap: 10px;">
            <button class="add-station-btn" style="flex: 1;" onclick="openModal()">Добавить станцию</button>
            <button class="add-station-btn" style="flex: 1;" onclick="saveStations()">Сохранить станции</button>
            <button class="add-station-btn" style="flex: 1;" onclick="loadStations()">Загрузить CSV</button>
        </div>
    </div>

    <div id="addStationModal" class="modal">
        <div class="modal-content">
            <form id="addStationForm">
                <input type="text" name="station_name" placeholder="Название станции" required>
                <input type="url" name="station_url" placeholder="URL станции" required>
                <div class="modal-buttons">
                    <button type="button" onclick="closeModal()">Отмена</button>
                    <button type="submit">Добавить</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>